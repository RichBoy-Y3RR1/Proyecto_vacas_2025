<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="feedback_report" pageWidth="595" pageHeight="842" columnWidth="515" leftMargin="40" rightMargin="40" topMargin="50" bottomMargin="50">
    <parameter name="REPORT_TITLE" class="java.lang.String"/>
    <field name="section" class="java.lang.String"/>
    <field name="nombre" class="java.lang.String"/>
    <field name="avgRating" class="java.lang.Double"/>
    <field name="commentText" class="java.lang.String"/>
    <field name="puntuacion" class="java.lang.Integer"/>
    <field name="usuario" class="java.lang.String"/>
    <title>
        <band height="40">
            <staticText>
                <reportElement x="0" y="0" width="515" height="30"/>
                <textElement textAlignment="Center"><font size="16" isBold="true"/></textElement>
                <text><![CDATA[Feedback Report]]></text>
            </staticText>
        </band>
    </title>
    <columnHeader>
        <band height="20">
            <staticText><reportElement x="0" y="0" width="120" height="20"/><text><![CDATA[Section]]></text></staticText>
            <staticText><reportElement x="120" y="0" width="200" height="20"/><text><![CDATA[Nombre]]></text></staticText>
            <staticText><reportElement x="320" y="0" width="80" height="20"/><text><![CDATA[Rating]]></text></staticText>
            <staticText><reportElement x="400" y="0" width="115" height="20"/><text><![CDATA[Usuario/Comment]]></text></staticText>
        </band>
    </columnHeader>
    <detail>
        <band height="30">
            <textField><reportElement x="0" y="0" width="120" height="30"/><textFieldExpression><![CDATA[$F{section}]]></textFieldExpression></textField>
            <textField><reportElement x="120" y="0" width="200" height="30"/><textFieldExpression><![CDATA[$F{nombre}]]></textFieldExpression></textField>
            <textField><reportElement x="320" y="0" width="80" height="30"/><textFieldExpression><![CDATA[$F{avgRating}]]></textFieldExpression></textField>
            <textField><reportElement x="400" y="0" width="115" height="30"/><textFieldExpression><![CDATA[$F{usuario} != null ? $F{usuario} : $F{commentText}]]></textFieldExpression></textField>
        </band>
    </detail>
</jasperReport>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE jasperReport PUBLIC "-//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="feedback_report" pageWidth="595" pageHeight="842" columnWidth="515" leftMargin="40" rightMargin="40" topMargin="50" bottomMargin="50" uuid="feedback-1">
  <field name="section" class="java.lang.String"/>
  <field name="nombre" class="java.lang.String"/>
  <field name="avgRating" class="java.lang.Double"/>
  <field name="count" class="java.lang.Integer"/>
  <field name="commentText" class="java.lang.String"/>
  <field name="puntuacion" class="java.lang.Integer"/>
  <field name="usuario" class="java.lang.String"/>

  <title>
    <band height="60">
      <staticText>
        <reportElement x="0" y="10" width="515" height="30"/>
        <textElement textAlignment="Center"><font size="18" isBold="true"/></textElement>
        <text><![CDATA[Reporte de Feedback — Empresa]]></text>
      </staticText>
    </band>
  </title>

  <columnHeader>
    <band height="22">
      <staticText>
        <reportElement x="0" y="0" width="120" height="20"/>
        <text><![CDATA[Sección]]></text>
      </staticText>
      <staticText>
        <reportElement x="120" y="0" width="200" height="20"/>
        <text><![CDATA[Juego / Comentario]]></text>
      </staticText>
      <staticText>
        <reportElement x="320" y="0" width="60" height="20"/>
        <text><![CDATA[Rating]]></text>
      </staticText>
      <staticText>
        <reportElement x="380" y="0" width="135" height="20"/>
        <text><![CDATA[Usuario]]></text>
      </staticText>
    </band>
  </columnHeader>

  <detail>
    <band height="30">
      <textField>
        <reportElement x="0" y="0" width="120" height="20"/>
        <textFieldExpression><![CDATA[$F{section}]]></textFieldExpression>
      </textField>
      <textField>
        <reportElement x="120" y="0" width="200" height="20"/>
        <textFieldExpression><![CDATA[$F{nombre} == null ? $F{commentText} : $F{nombre}]]></textFieldExpression>
      </textField>
      <textField>
        <reportElement x="320" y="0" width="60" height="20"/>
        <textFieldExpression><![CDATA[$F{avgRating} != null ? $F{avgRating} : $F{puntuacion}]]></textFieldExpression>
      </textField>
      <textField>
        <reportElement x="380" y="0" width="135" height="20"/>
        <textFieldExpression><![CDATA[$F{usuario}]]></textFieldExpression>
      </textField>
    </band>
  </detail>
</jasperReport>
